"use strict";(self.webpackChunkyugiohfmr=self.webpackChunkyugiohfmr||[]).push([[51],{51:(F,p,a)=>{a.r(p),a.d(p,{MyCardsModule:()=>U});var d=a(6814),s=a(95),h=a(157),m=a(2946),M=a(8645),l=a(9773),t=a(5879),f=a(7450),y=a(1666),T=a(2296),C=a(9157),v=a(2032),g=a(4104),O=a(5986),u=a(2557),b=a(3226);const _=function(){return{"card-deck-size":!0}};function x(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"app-card-show",22),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.cardClick(o))}),t.qZA()}if(2&i){const n=t.oxw().$implicit,e=t.oxw();t.Q6J("card",n)("listData",e.list[n.idInt-1])("ngClass",t.DdM(3,_))}}function Z(i,c){if(1&i&&(t.ynx(0),t.YNc(1,x,1,4,"app-card-show",21),t.BQk()),2&i){const n=c.index,e=t.oxw();t.xp6(1),t.Q6J("ngIf",n<e.limit)}}function P(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"app-card-show",22),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.cardClickMyCards(o))}),t.qZA()}if(2&i){const n=t.oxw(),e=n.index,o=n.$implicit,r=t.oxw();t.Udp("order",r.listMyCards[e].position),t.Q6J("card",o)("listData",r.listMyCards[o.idInt-1])("ngClass",t.DdM(5,_))}}function A(i,c){if(1&i&&(t.ynx(0),t.YNc(1,P,1,6,"app-card-show",23),t.BQk()),2&i){const n=c.index,e=t.oxw();t.xp6(1),t.Q6J("ngIf",n<e.limitMyCard)}}const w=[{path:"",component:(()=>{class i{constructor(n,e){this.cardApiService=n,this.dialog=e,this.notifier=new M.x,this.list=[],this.limit=30,this.total=730,this.orderObject="id",this.search="",this.filterInput=new s.cw({monsters:new s.NI(!1),magics:new s.NI(!1),traps:new s.NI(!1),rituals:new s.NI(!1)}),this.ascending=new s.NI(!0),this.addCard=!1,this.listMyCards=[],this.limitMyCard=30,this.totalMyCard=730,this.firstUpdateMyCard=!0,this.orderObjectMyCards="id",this.searchMyCards="",this.filterInputMyCards=new s.cw({monsters:new s.NI(!1),magics:new s.NI(!1),traps:new s.NI(!1),rituals:new s.NI(!1)}),this.ascendingMyCards=new s.NI(!0),this.removeCard=!1,this.scrollPosition=0,this.scrollPositionSecond=0,this.cards$=this.cardApiService.getItems().pipe((0,l.R)(this.notifier)),this.myCards$=this.cardApiService.getMyCards().pipe((0,l.R)(this.notifier)),this.myCardList$=this.cardApiService.getMyCardsList().pipe((0,l.R)(this.notifier))}ngOnInit(){for(let n=0;n<722;n++)this.list.push({id:n+1,position:n+1,hide:!1,count:0}),this.listMyCards.push({id:n+1,position:n+1,hide:!0,count:0});this.updateMyCardList()}updateMyCardList(){this.myCardList$.forEach(n=>{n.forEach(e=>{this.listMyCards[e.id-1].count=e.count,this.list[e.id-1].count=e.count})})}addCardToggle(n){this.addCard=n.selected}removeCardToggle(n){this.removeCard=n.selected}cardClick(n){this.addCard?(console.log("agregar "+n.id),this.cardApiService.addCardMyCardList(n.idInt),this.updateMyCardList(),this.updateFilterMyCards()):this.dialog.open(m.d,{data:n})}cardClickMyCards(n){this.removeCard?(console.log("quitar "+n.id),this.cardApiService.removeCardMyCardList(n.idInt),this.listMyCards.forEach(e=>e.count=0),this.list.forEach(e=>e.count=0),this.updateMyCardList(),this.updateFilterMyCards()):this.dialog.open(m.d,{data:n})}orderUpdate(n,e){this.orderObject=n.selected?e:"id",this.updateFilter()}orderUpdateMyCards(n,e){this.orderObjectMyCards=n.selected?e:"id",this.updateFilterMyCards()}updateFilter(){this.limit=30,this.cardApiService.filterCards(this.filterInput.controls.monsters.value||this.filterInput.controls.magics.value||this.filterInput.controls.traps.value||this.filterInput.controls.rituals.value?{filters:{monsters:this.filterInput.controls.monsters.value,magics:this.filterInput.controls.magics.value,traps:this.filterInput.controls.traps.value,rituals:this.filterInput.controls.rituals.value},order:this.orderObject,ascending:this.ascending.value?1:-1,search:this.search}:{order:this.orderObject,ascending:this.ascending.value?1:-1,search:this.search})}updateFilterMyCards(){this.limitMyCard=30,this.cardApiService.filterCards(this.filterInputMyCards.controls.monsters.value||this.filterInputMyCards.controls.magics.value||this.filterInputMyCards.controls.traps.value||this.filterInputMyCards.controls.rituals.value?{filters:{monsters:this.filterInputMyCards.controls.monsters.value,magics:this.filterInputMyCards.controls.magics.value,traps:this.filterInputMyCards.controls.traps.value,rituals:this.filterInputMyCards.controls.rituals.value},myCards:!0,order:this.orderObjectMyCards,ascending:this.ascendingMyCards.value?1:-1,search:this.searchMyCards}:{order:this.orderObjectMyCards,myCards:!0,ascending:this.ascendingMyCards.value?1:-1,search:this.searchMyCards})}addAllCards(){this.cardApiService.addAllCards(),this.updateMyCardList(),this.updateFilterMyCards()}removeAllCards(){this.cardApiService.removeAllCards(),this.listMyCards.forEach(n=>n.count=0),this.list.forEach(n=>n.count=0)}getScroll(n){this.scrollPosition=n.target.scrollTop}getScrollSecond(n){this.scrollPositionSecond=n.target.scrollTop}changeTab(n){document.querySelector(".scrollCards")?.scrollTo(0,this.scrollPosition),document.querySelector(".scrollCardsSecond")?.scrollTo(0,this.scrollPositionSecond)}trackByItems(n,e){return e.id}ngAfterViewChecked(){this.limit<this.total&&setTimeout(()=>{this.limit<this.total&&(this.limit+=150)},50),this.limitMyCard<this.totalMyCard&&setTimeout(()=>{this.limitMyCard<this.totalMyCard&&(this.limitMyCard+=150),this.firstUpdateMyCard&&(this.firstUpdateMyCard=!1,this.updateFilterMyCards())},50)}ngOnDestroy(){this.notifier.next(!0),this.notifier.complete()}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(f.e),t.Y36(y.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-my-cards"]],decls:83,vars:24,consts:[[3,"selectedTabChange"],["label","All cards"],[1,"section-tab"],[1,"limit-h","scrollCards",3,"scroll"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"options-card"],[1,"filter-card"],["type","text","matInput","","name","search","holder","The name of your deck",3,"ngModel","ngModelChange"],[3,"formGroup"],["formControlName","monsters",1,"example-margin",3,"color","change"],["formControlName","magics",1,"example-margin",3,"color","change"],["formControlName","traps",1,"example-margin",3,"color","change"],["formControlName","rituals",1,"example-margin",3,"color","change"],["aria-label","Sorting",1,"mat-mdc-chip-set-stacked"],["selected","",3,"selectionChange"],[3,"selectionChange"],[1,"example-margin",3,"color","formControl","change"],[1,"add-card-chip",3,"selectionChange"],["mat-flat-button","","color","warn",3,"click"],["label","My cards"],[1,"limit-h","scrollCardsSecond",3,"scroll"],[3,"card","listData","ngClass","click",4,"ngIf"],[3,"card","listData","ngClass","click"],[3,"card","listData","order","ngClass","click",4,"ngIf"]],template:function(n,e){1&n&&(t.TgZ(0,"mat-tab-group",0),t.NdJ("selectedTabChange",function(r){return e.changeTab(r)}),t.TgZ(1,"mat-tab",1)(2,"div",2)(3,"div",3),t.NdJ("scroll",function(r){return e.getScroll(r)}),t.YNc(4,Z,2,1,"ng-container",4),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"div",5)(7,"section",6)(8,"h4"),t._uU(9,"Filter:"),t.qZA(),t.TgZ(10,"mat-form-field")(11,"mat-label"),t._uU(12,"Search name"),t.qZA(),t.TgZ(13,"input",7),t.NdJ("ngModelChange",function(r){return e.search=r})("ngModelChange",function(){return e.updateFilter()}),t.qZA()(),t.TgZ(14,"div",8)(15,"mat-checkbox",9),t.NdJ("change",function(){return e.updateFilter()}),t._uU(16,"Monsters"),t.qZA(),t.TgZ(17,"mat-checkbox",10),t.NdJ("change",function(){return e.updateFilter()}),t._uU(18,"Magics"),t.qZA(),t.TgZ(19,"mat-checkbox",11),t.NdJ("change",function(){return e.updateFilter()}),t._uU(20,"Traps"),t.qZA(),t.TgZ(21,"mat-checkbox",12),t.NdJ("change",function(){return e.updateFilter()}),t._uU(22,"Rituals"),t.qZA()()(),t.TgZ(23,"section",6)(24,"h4"),t._uU(25,"Sorting by:"),t.qZA(),t.TgZ(26,"mat-chip-listbox",13)(27,"mat-chip-option",14),t.NdJ("selectionChange",function(r){return e.orderUpdate(r,"id")}),t._uU(28,"id"),t.qZA(),t.TgZ(29,"mat-chip-option",15),t.NdJ("selectionChange",function(r){return e.orderUpdate(r,"name")}),t._uU(30,"Name"),t.qZA(),t.TgZ(31,"mat-chip-option",15),t.NdJ("selectionChange",function(r){return e.orderUpdate(r,"atk")}),t._uU(32,"ATK"),t.qZA(),t.TgZ(33,"mat-chip-option",15),t.NdJ("selectionChange",function(r){return e.orderUpdate(r,"def")}),t._uU(34,"DEF"),t.qZA()(),t.TgZ(35,"mat-checkbox",16),t.NdJ("change",function(){return e.updateFilter()}),t._uU(36,"Ascending"),t.qZA(),t.TgZ(37,"mat-chip-listbox",13)(38,"mat-chip-option",17),t.NdJ("selectionChange",function(r){return e.addCardToggle(r)}),t._uU(39,"add card"),t.qZA()(),t.TgZ(40,"button",18),t.NdJ("click",function(){return e.removeAllCards()}),t._uU(41,"Remove All Cards"),t.qZA()()()()(),t.TgZ(42,"mat-tab",19)(43,"div",2)(44,"div",20),t.NdJ("scroll",function(r){return e.getScrollSecond(r)}),t.YNc(45,A,2,1,"ng-container",4),t.ALo(46,"async"),t.qZA(),t.TgZ(47,"div",5)(48,"section",6)(49,"h4"),t._uU(50,"Filter:"),t.qZA(),t.TgZ(51,"mat-form-field")(52,"mat-label"),t._uU(53,"Search name"),t.qZA(),t.TgZ(54,"input",7),t.NdJ("ngModelChange",function(r){return e.searchMyCards=r})("ngModelChange",function(){return e.updateFilterMyCards()}),t.qZA()(),t.TgZ(55,"div",8)(56,"mat-checkbox",9),t.NdJ("change",function(){return e.updateFilterMyCards()}),t._uU(57,"Monsters"),t.qZA(),t.TgZ(58,"mat-checkbox",10),t.NdJ("change",function(){return e.updateFilterMyCards()}),t._uU(59,"Magics"),t.qZA(),t.TgZ(60,"mat-checkbox",11),t.NdJ("change",function(){return e.updateFilterMyCards()}),t._uU(61,"Traps"),t.qZA(),t.TgZ(62,"mat-checkbox",12),t.NdJ("change",function(){return e.updateFilterMyCards()}),t._uU(63,"Rituals"),t.qZA()()(),t.TgZ(64,"section",6)(65,"h4"),t._uU(66,"Sorting by:"),t.qZA(),t.TgZ(67,"mat-chip-listbox",13)(68,"mat-chip-option",14),t.NdJ("selectionChange",function(r){return e.orderUpdateMyCards(r,"id")}),t._uU(69,"id"),t.qZA(),t.TgZ(70,"mat-chip-option",15),t.NdJ("selectionChange",function(r){return e.orderUpdateMyCards(r,"name")}),t._uU(71,"Name"),t.qZA(),t.TgZ(72,"mat-chip-option",15),t.NdJ("selectionChange",function(r){return e.orderUpdateMyCards(r,"atk")}),t._uU(73,"ATK"),t.qZA(),t.TgZ(74,"mat-chip-option",15),t.NdJ("selectionChange",function(r){return e.orderUpdateMyCards(r,"def")}),t._uU(75,"DEF"),t.qZA()(),t.TgZ(76,"mat-checkbox",16),t.NdJ("change",function(){return e.updateFilterMyCards()}),t._uU(77,"Ascending"),t.qZA(),t.TgZ(78,"mat-chip-listbox",13)(79,"mat-chip-option",17),t.NdJ("selectionChange",function(r){return e.removeCardToggle(r)}),t._uU(80,"remove card"),t.qZA()(),t.TgZ(81,"button",18),t.NdJ("click",function(){return e.addAllCards()}),t._uU(82,"Add All Cards"),t.qZA()()()()()()),2&n&&(t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,20,e.cards$))("ngForTrackBy",e.trackByItems),t.xp6(9),t.Q6J("ngModel",e.search),t.xp6(1),t.Q6J("formGroup",e.filterInput),t.xp6(1),t.Q6J("color","primary"),t.xp6(2),t.Q6J("color","primary"),t.xp6(2),t.Q6J("color","primary"),t.xp6(2),t.Q6J("color","primary"),t.xp6(14),t.Q6J("color","primary")("formControl",e.ascending),t.xp6(10),t.Q6J("ngForOf",t.lcZ(46,22,e.myCards$))("ngForTrackBy",e.trackByItems),t.xp6(9),t.Q6J("ngModel",e.searchMyCards),t.xp6(1),t.Q6J("formGroup",e.filterInputMyCards),t.xp6(1),t.Q6J("color","primary"),t.xp6(2),t.Q6J("color","primary"),t.xp6(2),t.Q6J("color","primary"),t.xp6(2),t.Q6J("color","primary"),t.xp6(14),t.Q6J("color","primary")("formControl",e.ascendingMyCards))},dependencies:[d.mk,d.sg,d.O5,T.lW,C.KE,C.hX,v.Nt,g.uX,g.SP,O.oG,u.z2,u.iO,s.Fj,s.JJ,s.JL,s.oH,s.sg,s.u,s.On,b.T,d.Ov],styles:[".limit-h[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:flex-start;align-content:flex-start;height:65vh;overflow-y:scroll;padding:.2rem;margin-top:.3rem;margin-left:.5rem;background-color:#26a69a7e;border:3px solid rgba(38,166,154,.4941176471);border-radius:.5rem}.options-card[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;padding:.5rem}.options-card[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{width:100%}.section-tab[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:column-reverse;width:100%;overflow-x:hidden}.filter-card[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:row}.filter-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filter-card[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]{width:100%}.filter-card[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]   mat-chip-option[_ngcontent-%COMP%]{width:40%}.filter-card[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]   mat-chip-option.add-card-chip[_ngcontent-%COMP%]{width:auto}.filter-card[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{width:100%}.filter-card[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{padding-top:.3rem;padding-bottom:.3rem;width:50%}.hide[_ngcontent-%COMP%]{visibility:hidden;position:absolute}.card-deck-size[_ngcontent-%COMP%]{display:flex;justify-content:stretch;width:33.3333333333%}.flex-p[_ngcontent-%COMP%]{display:flex}.color-monster[_ngcontent-%COMP%]{background-color:#fff9c4}.color-magic[_ngcontent-%COMP%]{background-color:#a5d6a7}.color-magic[_ngcontent-%COMP%]   p.description[_ngcontent-%COMP%]{border:1px solid #7bd37e}.color-trap[_ngcontent-%COMP%]{background-color:#f8bbd0}.color-trap[_ngcontent-%COMP%]   p.description[_ngcontent-%COMP%]{border:1px solid #b85a7b}.color-ritual[_ngcontent-%COMP%]{background-color:#c5cae9}.color-ritual[_ngcontent-%COMP%]   p.description[_ngcontent-%COMP%]{border:1px solid #6671b8}@media (min-width: 500px){.card-deck[_ngcontent-%COMP%], .card-deck-size[_ngcontent-%COMP%]{width:20%}.limit-h[_ngcontent-%COMP%]{width:80%}.section-tab[_ngcontent-%COMP%]{flex-direction:row}.options-card[_ngcontent-%COMP%]{width:15%;display:flex;flex-direction:column;padding:.5rem}.filter-card[_ngcontent-%COMP%], .filter-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filter-card[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]{width:100%}.filter-card[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]   mat-chip-option[_ngcontent-%COMP%]{width:40%}.filter-card[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]   mat-chip-option.add-card-chip[_ngcontent-%COMP%]{width:auto}.filter-card[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{width:100%}.filter-card[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{padding-top:.3rem;padding-bottom:.3rem;width:50%}}@media (min-width: 700px){.card-deck[_ngcontent-%COMP%], .card-deck-size[_ngcontent-%COMP%]{width:16.6666666667%}}@media (min-width: 850px){.card-deck[_ngcontent-%COMP%], .card-deck-size[_ngcontent-%COMP%]{width:14.2857142857%}}@media (min-width: 1100px){.card-deck[_ngcontent-%COMP%], .card-deck-size[_ngcontent-%COMP%]{width:12.5%}}"]}),i})()}];let J=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.Bz.forChild(w),h.Bz]}),i})();var k=a(9455),N=a(6993),I=a(941);let U=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[d.ez,J,k.q,s.UX,s.u5,N.T,I.H]}),i})()}}]);