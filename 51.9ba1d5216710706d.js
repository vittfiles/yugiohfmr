"use strict";(self.webpackChunkyugiohfmr=self.webpackChunkyugiohfmr||[]).push([[51],{51:(I,h,i)=>{i.r(h),i.d(h,{MyCardsModule:()=>k});var c=i(6814),s=i(95),g=i(157),C=i(2946),M=i(8645),l=i(9773),t=i(5879),y=i(25),T=i(1666),b=i(2296),m=i(9157),v=i(2032),u=i(4104),O=i(5986),_=i(2557),Z=i(3226);const f=function(a){return{"card-deck-size":!0,hide:a}};function P(a,d){if(1&a){const n=t.EpF();t.TgZ(0,"app-card-show",22),t.NdJ("click",function(){const o=t.CHM(n).index,p=t.oxw();return t.KtG(p.cardClick(o))}),t.qZA()}if(2&a){const n=d.$implicit,e=d.index,r=t.oxw();t.Udp("order",r.list[e].position),t.Q6J("card",n)("listData",r.list[e])("ngClass",t.VKq(5,f,r.list[e].hide))}}function A(a,d){if(1&a){const n=t.EpF();t.TgZ(0,"app-card-show",22),t.NdJ("click",function(){const o=t.CHM(n).index,p=t.oxw();return t.KtG(p.cardClickMyCards(o))}),t.qZA()}if(2&a){const n=d.$implicit,e=d.index,r=t.oxw();t.Udp("order",r.listMyCards[e].position),t.Q6J("card",n)("listData",r.listMyCards[e])("ngClass",t.VKq(5,f,r.listMyCards[e].hide))}}const w=[{path:"",component:(()=>{class a{constructor(n,e){this.cardApiService=n,this.dialog=e,this.notifier=new M.x,this.title="yugiohfmr",this.list=[],this.primary="primary",this.orderObject="id",this.search="",this.filterInput=new s.cw({monsters:new s.NI(!1),magics:new s.NI(!1),traps:new s.NI(!1),rituals:new s.NI(!1)}),this.ascending=new s.NI(!0),this.addCard=!1,this.listMyCards=[],this.orderObjectMyCards="id",this.searchMyCards="",this.filterInputMyCards=new s.cw({monsters:new s.NI(!1),magics:new s.NI(!1),traps:new s.NI(!1),rituals:new s.NI(!1)}),this.ascendingMyCards=new s.NI(!0),this.removeCard=!1,this.scrollPosition=0,this.scrollPositionSecond=0,this.cardsDraw$=this.cardApiService.getItemsDraw(),this.cards$=this.cardApiService.getItems().pipe((0,l.R)(this.notifier)),this.myCards$=this.cardApiService.getMyCards().pipe((0,l.R)(this.notifier)),this.myCardList$=this.cardApiService.getMyCardsList().pipe((0,l.R)(this.notifier))}ngOnInit(){for(let n=0;n<722;n++)this.list.push({id:n+1,position:n+1,hide:!1,count:0}),this.listMyCards.push({id:n+1,position:n+1,hide:!0,count:0});this.updateMyCardList()}updateMyCardList(){this.myCardList$.forEach(n=>{n.forEach(e=>{this.listMyCards[e.id-1].hide=!1,this.listMyCards[e.id-1].count=e.count,this.list[e.id-1].count=e.count})})}addCardToggle(n){this.addCard=n.selected}removeCardToggle(n){this.removeCard=n.selected}cardClick(n){if(this.addCard)console.log("agregar "+n),this.cardApiService.addCardMyCardList(n+1),this.updateMyCardList();else{let e;console.log(n),this.cardsDraw$.forEach(o=>{e=o[n]}),this.dialog.open(C.d,{data:e})}}cardClickMyCards(n){if(this.removeCard)console.log("quitar "+n),this.cardApiService.removeCardMyCardList(n+1),this.listMyCards.forEach(e=>{e.hide=!0,e.count=0}),this.list.forEach(e=>e.count=0),this.updateMyCardList(),this.updateFilterMyCards();else{let e;console.log(n),this.cardsDraw$.forEach(o=>{e=o[n]}),this.dialog.open(C.d,{data:e})}}orderUpdate(n,e){this.orderObject=n.selected?e:"id",this.updateFilter()}orderUpdateMyCards(n,e){this.orderObjectMyCards=n.selected?e:"id",this.updateFilterMyCards()}updateFilter(){this.cardApiService.filterCards(this.filterInput.controls.monsters.value||this.filterInput.controls.magics.value||this.filterInput.controls.traps.value||this.filterInput.controls.rituals.value?{filters:{monsters:this.filterInput.controls.monsters.value,magics:this.filterInput.controls.magics.value,traps:this.filterInput.controls.traps.value,rituals:this.filterInput.controls.rituals.value},order:this.orderObject,ascending:this.ascending.value?1:-1,search:this.search}:{order:this.orderObject,ascending:this.ascending.value?1:-1,search:this.search}),this.list.forEach(n=>n.hide=!0),this.cards$.forEach(n=>{n.forEach((e,r)=>{let o=e.id;this.list[o-1].hide=!1,this.list[o-1].position=r+1})})}updateFilterMyCards(){this.cardApiService.filterCards(this.filterInputMyCards.controls.monsters.value||this.filterInputMyCards.controls.magics.value||this.filterInputMyCards.controls.traps.value||this.filterInputMyCards.controls.rituals.value?{filters:{monsters:this.filterInputMyCards.controls.monsters.value,magics:this.filterInputMyCards.controls.magics.value,traps:this.filterInputMyCards.controls.traps.value,rituals:this.filterInputMyCards.controls.rituals.value},myCards:!0,order:this.orderObjectMyCards,ascending:this.ascendingMyCards.value?1:-1,search:this.searchMyCards}:{order:this.orderObjectMyCards,myCards:!0,ascending:this.ascendingMyCards.value?1:-1,search:this.searchMyCards}),this.listMyCards.forEach(n=>n.hide=!0),this.myCards$.forEach(n=>{n.forEach((e,r)=>{let o=e.id;this.listMyCards[o-1].hide=!1,this.listMyCards[o-1].position=r+1})})}filter(){}addAllCards(){this.cardApiService.addAllCards(),this.updateMyCardList()}getScroll(n){this.scrollPosition=n.target.scrollTop}getScrollSecond(n){this.scrollPositionSecond=n.target.scrollTop}changeTab(n){document.querySelector(".scrollCards")?.scrollTo(0,this.scrollPosition),document.querySelector(".scrollCardsSecond")?.scrollTo(0,this.scrollPositionSecond)}ngOnDestroy(){this.notifier.next(!0),this.notifier.complete()}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(y.e),t.Y36(T.uw))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-my-cards"]],decls:85,vars:22,consts:[[3,"selectedTabChange"],["label","All cards"],[1,"section-tab"],[1,"limit-h","scrollCards",3,"scroll"],[3,"card","listData","order","ngClass","click",4,"ngFor","ngForOf"],[1,"options-card"],[1,"filter-card"],["type","text","matInput","","name","search","holder","The name of your deck",3,"ngModel","ngModelChange"],[3,"formGroup"],["formControlName","monsters",1,"example-margin",3,"color","change"],["formControlName","magics",1,"example-margin",3,"color","change"],["formControlName","traps",1,"example-margin",3,"color","change"],["formControlName","rituals",1,"example-margin",3,"color","change"],["mat-stroked-button",""],["aria-label","Sorting",1,"mat-mdc-chip-set-stacked"],["selected","",3,"selectionChange"],[3,"selectionChange"],[1,"example-margin",3,"color","formControl","change"],[1,"add-card-chip",3,"selectionChange"],["label","My cards"],[1,"limit-h","scrollCardsSecond",3,"scroll"],["mat-flat-button","","color","warn",3,"click"],[3,"card","listData","ngClass","click"]],template:function(n,e){1&n&&(t.TgZ(0,"mat-tab-group",0),t.NdJ("selectedTabChange",function(o){return e.changeTab(o)}),t.TgZ(1,"mat-tab",1)(2,"div",2)(3,"div",3),t.NdJ("scroll",function(o){return e.getScroll(o)}),t.YNc(4,P,1,7,"app-card-show",4),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"div",5)(7,"section",6)(8,"h4"),t._uU(9,"Filter:"),t.qZA(),t.TgZ(10,"mat-form-field")(11,"mat-label"),t._uU(12,"Search name"),t.qZA(),t.TgZ(13,"input",7),t.NdJ("ngModelChange",function(o){return e.search=o})("ngModelChange",function(){return e.updateFilter()}),t.qZA()(),t.TgZ(14,"div",8)(15,"mat-checkbox",9),t.NdJ("change",function(){return e.updateFilter()}),t._uU(16,"Monsters"),t.qZA(),t.TgZ(17,"mat-checkbox",10),t.NdJ("change",function(){return e.updateFilter()}),t._uU(18,"Magics"),t.qZA(),t.TgZ(19,"mat-checkbox",11),t.NdJ("change",function(){return e.updateFilter()}),t._uU(20,"Traps"),t.qZA(),t.TgZ(21,"mat-checkbox",12),t.NdJ("change",function(){return e.updateFilter()}),t._uU(22,"Rituals"),t.qZA(),t.TgZ(23,"button",13),t._uU(24,"Reset filters"),t.qZA()()(),t.TgZ(25,"section",6)(26,"h4"),t._uU(27,"Sorting by:"),t.qZA(),t.TgZ(28,"mat-chip-listbox",14)(29,"mat-chip-option",15),t.NdJ("selectionChange",function(o){return e.orderUpdate(o,"id")}),t._uU(30,"id"),t.qZA(),t.TgZ(31,"mat-chip-option",16),t.NdJ("selectionChange",function(o){return e.orderUpdate(o,"name")}),t._uU(32,"Name"),t.qZA(),t.TgZ(33,"mat-chip-option",16),t.NdJ("selectionChange",function(o){return e.orderUpdate(o,"atk")}),t._uU(34,"ATK"),t.qZA(),t.TgZ(35,"mat-chip-option",16),t.NdJ("selectionChange",function(o){return e.orderUpdate(o,"def")}),t._uU(36,"DEF"),t.qZA()(),t.TgZ(37,"mat-checkbox",17),t.NdJ("change",function(){return e.updateFilter()}),t._uU(38,"Ascending"),t.qZA(),t.TgZ(39,"mat-chip-listbox",14)(40,"mat-chip-option",18),t.NdJ("selectionChange",function(o){return e.addCardToggle(o)}),t._uU(41,"add card"),t.qZA()()()()()(),t.TgZ(42,"mat-tab",19)(43,"div",2)(44,"div",20),t.NdJ("scroll",function(o){return e.getScrollSecond(o)}),t.YNc(45,A,1,7,"app-card-show",4),t.ALo(46,"async"),t.qZA(),t.TgZ(47,"div",5)(48,"section",6)(49,"h4"),t._uU(50,"Filter:"),t.qZA(),t.TgZ(51,"mat-form-field")(52,"mat-label"),t._uU(53,"Search name"),t.qZA(),t.TgZ(54,"input",7),t.NdJ("ngModelChange",function(o){return e.searchMyCards=o})("ngModelChange",function(){return e.updateFilterMyCards()}),t.qZA()(),t.TgZ(55,"div",8)(56,"mat-checkbox",9),t.NdJ("change",function(){return e.updateFilterMyCards()}),t._uU(57,"Monsters"),t.qZA(),t.TgZ(58,"mat-checkbox",10),t.NdJ("change",function(){return e.updateFilterMyCards()}),t._uU(59,"Magics"),t.qZA(),t.TgZ(60,"mat-checkbox",11),t.NdJ("change",function(){return e.updateFilterMyCards()}),t._uU(61,"Traps"),t.qZA(),t.TgZ(62,"mat-checkbox",12),t.NdJ("change",function(){return e.updateFilterMyCards()}),t._uU(63,"Rituals"),t.qZA(),t.TgZ(64,"button",13),t._uU(65,"Reset filters"),t.qZA()()(),t.TgZ(66,"section",6)(67,"h4"),t._uU(68,"Sorting by:"),t.qZA(),t.TgZ(69,"mat-chip-listbox",14)(70,"mat-chip-option",15),t.NdJ("selectionChange",function(o){return e.orderUpdateMyCards(o,"id")}),t._uU(71,"id"),t.qZA(),t.TgZ(72,"mat-chip-option",16),t.NdJ("selectionChange",function(o){return e.orderUpdateMyCards(o,"name")}),t._uU(73,"Name"),t.qZA(),t.TgZ(74,"mat-chip-option",16),t.NdJ("selectionChange",function(o){return e.orderUpdateMyCards(o,"atk")}),t._uU(75,"ATK"),t.qZA(),t.TgZ(76,"mat-chip-option",16),t.NdJ("selectionChange",function(o){return e.orderUpdateMyCards(o,"def")}),t._uU(77,"DEF"),t.qZA()(),t.TgZ(78,"mat-checkbox",17),t.NdJ("change",function(){return e.updateFilterMyCards()}),t._uU(79,"Ascending"),t.qZA(),t.TgZ(80,"mat-chip-listbox",14)(81,"mat-chip-option",18),t.NdJ("selectionChange",function(o){return e.removeCardToggle(o)}),t._uU(82,"remove card"),t.qZA()(),t.TgZ(83,"button",21),t.NdJ("click",function(){return e.addAllCards()}),t._uU(84,"Add All Cards"),t.qZA()()()()()()),2&n&&(t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,18,e.cardsDraw$)),t.xp6(9),t.Q6J("ngModel",e.search),t.xp6(1),t.Q6J("formGroup",e.filterInput),t.xp6(1),t.Q6J("color",e.primary),t.xp6(2),t.Q6J("color",e.primary),t.xp6(2),t.Q6J("color",e.primary),t.xp6(2),t.Q6J("color",e.primary),t.xp6(16),t.Q6J("color",e.primary)("formControl",e.ascending),t.xp6(8),t.Q6J("ngForOf",t.lcZ(46,20,e.cardsDraw$)),t.xp6(9),t.Q6J("ngModel",e.searchMyCards),t.xp6(1),t.Q6J("formGroup",e.filterInputMyCards),t.xp6(1),t.Q6J("color",e.primary),t.xp6(2),t.Q6J("color",e.primary),t.xp6(2),t.Q6J("color",e.primary),t.xp6(2),t.Q6J("color",e.primary),t.xp6(16),t.Q6J("color",e.primary)("formControl",e.ascendingMyCards))},dependencies:[c.mk,c.sg,b.lW,m.KE,m.hX,v.Nt,u.uX,u.SP,O.oG,_.z2,_.iO,s.Fj,s.JJ,s.JL,s.oH,s.sg,s.u,s.On,Z.T,c.Ov],styles:[".limit-h[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:flex-start;align-content:flex-start;height:65vh;overflow-y:scroll;padding:.2rem;margin-top:.3rem;margin-left:.5rem;background-color:#26a69a7e;border:3px solid rgba(38,166,154,.4941176471);border-radius:.5rem}.options-card[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;padding:.5rem}.options-card[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{width:100%}.section-tab[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:column-reverse;width:100%;overflow-x:hidden}.filter-card[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:row}.filter-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filter-card[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]{width:100%}.filter-card[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]   mat-chip-option[_ngcontent-%COMP%]{width:40%}.filter-card[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]   mat-chip-option.add-card-chip[_ngcontent-%COMP%]{width:auto}.filter-card[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{width:100%}.filter-card[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{padding-top:.3rem;padding-bottom:.3rem;width:50%}.hide[_ngcontent-%COMP%]{visibility:hidden;position:absolute}.card-deck-size[_ngcontent-%COMP%]{display:flex;justify-content:stretch;width:33.3333333333%}.flex-p[_ngcontent-%COMP%]{display:flex}.color-monster[_ngcontent-%COMP%]{background-color:#fff9c4}.color-magic[_ngcontent-%COMP%]{background-color:#a5d6a7}.color-magic[_ngcontent-%COMP%]   p.description[_ngcontent-%COMP%]{border:1px solid #7bd37e}.color-trap[_ngcontent-%COMP%]{background-color:#f8bbd0}.color-trap[_ngcontent-%COMP%]   p.description[_ngcontent-%COMP%]{border:1px solid #b85a7b}.color-ritual[_ngcontent-%COMP%]{background-color:#c5cae9}.color-ritual[_ngcontent-%COMP%]   p.description[_ngcontent-%COMP%]{border:1px solid #6671b8}@media (min-width: 500px){.card-deck[_ngcontent-%COMP%], .card-deck-size[_ngcontent-%COMP%]{width:20%}.limit-h[_ngcontent-%COMP%]{width:80%}.section-tab[_ngcontent-%COMP%]{flex-direction:row}.options-card[_ngcontent-%COMP%]{width:15%;display:flex;flex-direction:column;padding:.5rem}.filter-card[_ngcontent-%COMP%], .filter-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filter-card[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]{width:100%}.filter-card[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]   mat-chip-option[_ngcontent-%COMP%]{width:40%}.filter-card[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]   mat-chip-option.add-card-chip[_ngcontent-%COMP%]{width:auto}.filter-card[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{width:100%}.filter-card[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{padding-top:.3rem;padding-bottom:.3rem;width:50%}}@media (min-width: 700px){.card-deck[_ngcontent-%COMP%], .card-deck-size[_ngcontent-%COMP%]{width:12.5%}}"]}),a})()}];let x=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[g.Bz.forChild(w),g.Bz]}),a})();var J=i(9455),N=i(6993),U=i(941);let k=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[c.ez,x,J.q,s.UX,s.u5,N.T,U.H]}),a})()}}]);